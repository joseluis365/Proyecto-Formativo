diff --cc api/app/Http/Controllers/Api/EmpresaController.php
index 18732c5,a87ff25..0000000
--- a/api/app/Http/Controllers/Api/EmpresaController.php
+++ b/api/app/Http/Controllers/Api/EmpresaController.php
@@@ -5,8 -5,8 +5,9 @@@ namespace App\Http\Controllers\Api
  use Illuminate\Http\Request;
  use App\Http\Controllers\Controller;
  use App\Models\Empresa;
+ use App\Models\EmpresaLicencia;
  use App\Http\Requests\StoreEmpresaRequest;
 +use App\Http\Requests\UpdateEmpresaRequest;
  use App\Http\Resources\EmpresaResource;
  use App\Events\SystemActivityEvent;
  use Barryvdh\DomPDF\Facade\Pdf;
@@@ -18,44 -14,39 +19,63 @@@ use Illuminate\Support\Facades\Artisan
  class EmpresaController extends Controller
  {
      /**
-      * Display a listing of the resource.
+      * LISTAR EMPRESAS
       */
      public function index(Request $request)
++<<<<<<< HEAD
 +{
 +    Artisan::call('app:check-licenses');
 +    $query = Empresa::with(['licenciaActual.tipoLicencia']);
 +
 +    // B├║squeda
 +    if ($request->filled('search')) {
 +        $search = $request->search;
 +        $query->where(function ($q) use ($search) {
 +            $q->where('nombre', 'ilike', "%{$search}%")
 +              ->orWhere('nit', 'ilike', "%{$search}%");
 +        });
 +    }
 +
 +    // Filtro por estado
 +    if ($request->filled('id_estado')) {
 +        $estado = $request->id_estado;
 +        if ($estado == 3) {
 +            $query->whereDoesntHave('licencias');
 +        } else {
 +            $query->whereHas('licenciaActual', function ($q) use ($estado) {
 +                $q->where('id_estado', $estado);
++=======
+     {
+         $query = Empresa::with(['licenciaActual.tipoLicencia']);
+ 
+         if ($request->filled('search')) {
+             $search = $request->search;
+             $query->where(function ($q) use ($search) {
+                 $q->where('nombre', 'like', "%{$search}%")
+                   ->orWhere('nit', 'like', "%{$search}%");
++>>>>>>> david
              });
          }
-     }
  
-     $empresas = $query->get();
+         if ($request->filled('id_estado')) {
+             $estado = $request->id_estado;
  
-     return response()->json([
-         'data' => EmpresaResource::collection($empresas)
-     ]);
- }
+             if ($estado == 3) {
+                 $query->whereDoesntHave('licencias');
+             } else {
+                 $query->whereHas('licenciaActual', function ($q) use ($estado) {
+                     $q->where('id_estado', $estado);
+                 });
+             }
+         }
  
+         $empresas = $query->get();
+ 
+         return EmpresaResource::collection($empresas);
+     }
  
      /**
-      * Store a newly created resource in storage.
+      * MOSTRAR EMPRESA
       */
      public function show($id)
      {
@@@ -68,37 -66,31 +95,63 @@@
      {
          $data = $request->validated();
  
++<<<<<<< HEAD
 +        $data['nombre'] = strip_tags($data['nombre']);
 +        $data['email_contacto'] = strip_tags($data['email_contacto']);
 +        $data['direccion'] = strip_tags($data['direccion']);
 +        $data['nombre_representante'] = strip_tags($data['nombre_representante']);
 +        $data['admin_primer_nombre'] = strip_tags($data['admin_primer_nombre']);
 +        $data['admin_segundo_nombre'] = isset($data['admin_segundo_nombre']) ? strip_tags($data['admin_segundo_nombre']) : null;
 +        $data['admin_primer_apellido'] = strip_tags($data['admin_primer_apellido']);
 +        $data['admin_segundo_apellido'] = isset($data['admin_segundo_apellido']) ? strip_tags($data['admin_segundo_apellido']) : null;
 +        $data['admin_email'] = strip_tags($data['admin_email']);
 +        $data['admin_direccion'] = strip_tags($data['admin_direccion']);
 +        
++=======
++>>>>>>> david
          if (!isset($data['id_estado'])) {
              $data['id_estado'] = 3;
          }
  
          try {
++<<<<<<< HEAD
 +            return DB::transaction(function () use ($data) {
 +                $empresaData = collect($data)->except(['admin_primer_nombre', 'admin_segundo_nombre', 'admin_primer_apellido', 'admin_segundo_apellido', 'admin_documento', 'admin_email', 'admin_password'])->toArray();
 +                $empresa = Empresa::create($empresaData);
 +
 +                $usuario = \App\Models\Usuario::create([
 +                    'documento' => $data['admin_documento'], // No strip_tags for numbers
 +                    'primer_nombre' => $data['admin_primer_nombre'],
 +                    'segundo_nombre' => $data['admin_segundo_nombre'],
 +                    'primer_apellido' => $data['admin_primer_apellido'],
 +                    'segundo_apellido' => $data['admin_segundo_apellido'],
 +                    'email' => strip_tags($data['admin_email']),
 +                    'telefono' => $data['admin_telefono'], // No strip_tags for numbers
 +                    'direccion' => strip_tags($data['admin_direccion']),
 +                    'contrasena' => Hash::make($data['admin_password']),
 +                    
++=======
+             return \DB::transaction(function () use ($data) {
+ 
+                 $empresaData = collect($data)
+                     ->except([
+                         'admin_nombre',
+                         'admin_documento',
+                         'admin_email',
+                         'admin_password'
+                     ])->toArray();
+ 
+                 $empresa = Empresa::create($empresaData);
+ 
+                 \App\Models\Usuario::create([
+                     'documento' => $data['admin_documento'],
+                     'nombre' => $data['admin_nombre'],
+                     'apellido' => $data['admin_apellido'],
+                     'email' => $data['admin_email'],
+                     'telefono' => $data['admin_telefono'],
+                     'direccion' => $data['admin_direccion'],
+                     'contrasena' => $data['admin_password'],
++>>>>>>> david
                      'id_rol' => 2,
                      'id_estado' => 1,
                      'nit' => $empresa->nit,
@@@ -117,8 -109,8 +170,9 @@@
                      'data' => $empresa
                  ], 201);
              });
+ 
          } catch (\Exception $e) {
 +            \Illuminate\Support\Facades\Log::error('Error registrando empresa: ' . $e->getMessage() . ' en ' . $e->getFile() . ':' . $e->getLine());
              return response()->json([
                  'message' => 'Error al crear la empresa',
                  'error' => $e->getMessage()
@@@ -147,65 -144,9 +206,71 @@@
          return $pdf->download('detalle_empresa_' . $empresa->nit . '.pdf');
      }
  
++<<<<<<< HEAD
 +    // ­ƒôî ACTUALIZAR
 +
 +public function update(UpdateEmpresaRequest $request, $id)
 +{
 +    $empresa = Empresa::findOrFail($id);
 +
 +    $adminIdx = \App\Models\Usuario::where('nit', $empresa->nit)
 +                    ->where('id_rol', 2)
 +                    ->first();
 +
 +    $data = $request->validated();
 +
 +    // Sanitizar entradas contra XSS (usar strip_tags en vez de Purifier)
 +    $data['nombre'] = strip_tags($data['nombre']);
 +    $data['email_contacto'] = strip_tags($data['email_contacto']);
 +    $data['telefono'] = strip_tags($data['telefono']);
 +    $data['direccion'] = strip_tags($data['direccion']);
 +    $data['nombre_representante'] = strip_tags($data['nombre_representante']);
 +    $data['email_representante'] = strip_tags($data['email_representante']);
 +    $data['admin_primer_nombre'] = strip_tags($data['admin_primer_nombre']);
 +    if (isset($data['admin_segundo_nombre'])) $data['admin_segundo_nombre'] = strip_tags($data['admin_segundo_nombre']);
 +    $data['admin_primer_apellido'] = strip_tags($data['admin_primer_apellido']);
 +    if (isset($data['admin_segundo_apellido'])) $data['admin_segundo_apellido'] = strip_tags($data['admin_segundo_apellido']);
 +    if (isset($data['admin_email'])) $data['admin_email'] = strip_tags($data['admin_email']);
 +    if (isset($data['admin_telefono'])) $data['admin_telefono'] = strip_tags($data['admin_telefono']);
 +    if (isset($data['admin_direccion'])) $data['admin_direccion'] = strip_tags($data['admin_direccion']);
 +
 +    return DB::transaction(function () use ($empresa, $adminIdx, $data, $request) {
 +        
 +        // Actualizar empresa
 +        $empresaData = collect($data)->except(['admin_primer_nombre', 'admin_segundo_nombre', 'admin_primer_apellido', 'admin_segundo_apellido', 'admin_email', 'admin_documento', 'admin_telefono', 'admin_direccion'])->toArray();
 +        $empresa->update($empresaData);
 +
 +        // Actualizar usuario administrador
 +        if ($adminIdx) {
 +            $adminUpdateCalls = [];
 +            if ($request->filled('admin_primer_nombre')) $adminUpdateCalls['primer_nombre'] = strip_tags($request->admin_primer_nombre);
 +            if ($request->filled('admin_segundo_nombre')) $adminUpdateCalls['segundo_nombre'] = strip_tags($request->admin_segundo_nombre);
 +            if ($request->filled('admin_primer_apellido')) $adminUpdateCalls['primer_apellido'] = strip_tags($request->admin_primer_apellido);
 +            if ($request->filled('admin_segundo_apellido')) $adminUpdateCalls['segundo_apellido'] = strip_tags($request->admin_segundo_apellido);
 +            if ($request->filled('admin_email')) $adminUpdateCalls['email'] = strip_tags($request->admin_email);
 +            if ($request->filled('admin_telefono')) $adminUpdateCalls['telefono'] = strip_tags($request->admin_telefono);
 +            if ($request->filled('admin_direccion')) $adminUpdateCalls['direccion'] = strip_tags($request->admin_direccion);
 +
 +            if (!empty($adminUpdateCalls)) {
 +                $adminIdx->update($adminUpdateCalls);
 +            }
 +        }
 +
 +        $empresa->refresh();
 +
 +        return response()->json([
 +            'message' => 'Empresa actualizada correctamente',
 +            'data' => $empresa->load('adminUser')
 +        ]);
 +    });
 +}
 +
 +    // ­ƒôî ELIMINAR
++=======
+     /**
+      * ELIMINAR EMPRESA
+      */
++>>>>>>> david
      public function destroy($id)
      {
          Empresa::findOrFail($id)->delete();
diff --cc api/app/Http/Controllers/Api/UsuarioController.php
index c357011,a55cc26..0000000
--- a/api/app/Http/Controllers/Api/UsuarioController.php
+++ b/api/app/Http/Controllers/Api/UsuarioController.php
@@@ -6,60 -6,56 +6,99 @@@ use Illuminate\Http\Request
  use App\Http\Controllers\Controller;
  use App\Models\Usuario;
  use App\Http\Requests\StoreUserRequest;
++<<<<<<< HEAD
 +use App\Http\Requests\UpdateUserRequest;
++=======
+ use Illuminate\Support\Facades\Hash;
++>>>>>>> david
  
  class UsuarioController extends Controller
  {
      /**
-      * Display a listing of the resource.
+      * Listar usuarios con filtros y paginaci├│n
       */
      public function index(Request $request)
- {
-     $query = Usuario::with('especialidad');
+     {
+         $query = Usuario::with('especialidad');
+ 
+         // ­ƒöÄ Filtro por rol
+         if ($request->filled('id_rol')) {
+             $query->where('id_rol', $request->id_rol);
+         }
+ 
+         // ­ƒöÄ Filtro por estado
+         if ($request->filled('status')) {
+             $query->where('id_estado', $request->status);
+         }
+ 
+         // ­ƒöÄ B├║squeda
+         if ($request->filled('search')) {
+             $search = trim((string) $request->search);
+ 
+             $query->where(function ($q) use ($search) {
+                 $q->where('documento', 'ilike', "%{$search}%")
+                   ->orWhere('nombre', 'ilike', "%{$search}%")
+                   ->orWhere('apellido', 'ilike', "%{$search}%");
+             });
+         }
  
-     // Filtro por rol
-     if ($request->filled('id_rol')) {
-         $query->where('id_rol', $request->id_rol);
+         $usuarios = $query->paginate(10);
+ 
+         $totalPorRol = $request->filled('id_rol')
+             ? Usuario::where('id_rol', $request->id_rol)->count()
+             : Usuario::count();
+ 
+         return response()->json([
+             'total' => $usuarios->total(),
+             'totalPorRol' => $totalPorRol,
+             'data' => $usuarios->items(),
+             'current_page' => $usuarios->currentPage(),
+             'last_page' => $usuarios->lastPage(),
+             'per_page' => $usuarios->perPage()
+         ]);
      }
++<<<<<<< HEAD
 +     
 +     
 +    if ($request->filled('status')) {
 +        $query->where('id_estado', $request->status);
 +    }
 +
 +    // B├║squeda
 +    if ($request->filled('search')) {
 +    $search = trim((string) $request->search);
 +
 +    $query->where(function ($q) use ($search) {
 +        $q->where('documento', 'ilike', "%{$search}%")
 +          ->orWhere('primer_nombre', 'ilike', "%{$search}%")
 +          ->orWhere('segundo_nombre', 'ilike', "%{$search}%")
 +          ->orWhere('primer_apellido', 'ilike', "%{$search}%")
 +          ->orWhere('segundo_apellido', 'ilike', "%{$search}%");
 +    });
 +}
 +
 +
 +    $usuarios = $query->paginate(10);
 +
 +    $totalPorRol = Usuario::where('id_rol', $request->id_rol)->count();
 +
 +
 +    return response()->json([
 +        'total' => $usuarios->total(),
 +        'totalPorRol' => $totalPorRol,
 +        'data' => $usuarios->items(),
 +        'current_page' => $usuarios->currentPage(),
 +        'last_page' => $usuarios->lastPage(),
 +        'per_page' => $usuarios->perPage()
 +
 +    ]);
 +}
 +
++=======
++>>>>>>> david
  
      /**
-      * Store a newly created resource in storage.
+      * Mostrar usuario espec├¡fico
       */
      public function show($id)
      {
@@@ -84,15 -79,46 +122,58 @@@
          ], 201);
      }
  
++<<<<<<< HEAD
 +    public function update(UpdateUserRequest $request, $id)
 +    {
 +        $user = Usuario::findOrFail($id);
 +
 +        $data = $request->validated();
 +        
 +        unset($data['documento']);
 +        unset($data['contrasena']);
 +
++=======
+     /**
+      * Actualizar usuario
+      */
+     public function update(Request $request, $id)
+     {
+         $user = Usuario::findOrFail($id);
+ 
+         $rules = [
+             'documento' => 'required|integer|regex:/^\d{1,10}$/|unique:usuario,documento,' . $id . ',documento',
+             'nombre'   => 'required|string|max:255',
+             'apellido' => 'required|string|max:255',
+             'email'  => 'required|email|unique:usuario,email,' . $id . ',documento',
+             'telefono' => 'required|numeric|regex:/^\d{1,10}$/|unique:usuario,telefono,' . $id . ',documento',
+             'direccion' => 'required|string|max:255',
+             'fecha_nacimiento' => 'required|date',
+             'id_estado' => 'required|exists:estado,id_estado',
+             'id_rol' => 'required|exists:rol,id_rol',
+         ];
+ 
+         switch ((int) $request->id_rol) {
+ 
+             // ­ƒ®║ MEDICO
+             case 2:
+                 $rules['registro_profesional'] =
+                     'required|numeric|regex:/^\d{1,10}$/|unique:usuario,registro_profesional,' . $id . ',documento';
+                 $rules['id_especialidad'] =
+                     'required|exists:especialidad,id_especialidad';
+                 break;
+ 
+             // ­ƒæñ PACIENTE
+             case 4:
+                 $rules['sexo'] =
+                     'required|in:Masculino,Femenino';
+                 $rules['grupo_sanguineo'] =
+                     'required|in:A+,A-,B+,B-,AB+,AB-,O+,O-';
+                 break;
+         }
+ 
+         $data = $request->validate($rules);
+ 
++>>>>>>> david
          $user->update($data);
  
          return response()->json([
diff --cc api/database/seeders/DatabaseSeeder.php
index 32174b0,445861f..0000000
--- a/api/database/seeders/DatabaseSeeder.php
+++ b/api/database/seeders/DatabaseSeeder.php
@@@ -11,17 -9,16 +9,28 @@@ class DatabaseSeeder extends Seede
      public function run(): void
      {
          $this->call([
++<<<<<<< HEAD
 +            LicensingSeeder::class,
 +        ]);
 +        
 +        // User::factory(10)->create();
 +
 +        // User::factory()->create([
 +        //     'name' => 'Test User',
 +        //     'email' => 'test@example.com',
 +        // ]);
++=======
+             EstadoSeeder::class,
+             RolSeeder::class,
+             EspecialidadSeeder::class,
+             DepartamentoSeeder::class,
+             CiudadSeeder::class,
+             TipoLicenciaSeeder::class,
+             EmpresaSeeder::class,
+             EmpresaLicenciaSeeder::class,
+             AdminUsuarioSeeder::class,
+             SuperadminSeeder::class,
+         ]);
++>>>>>>> david
      }
- }
+ }
